<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>360 Image + Spider Model + Random Auto Sound</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- ç…§æ˜ -->
      <a-light type="ambient" color="#777"></a-light>
      <a-light type="directional" color="#fff" position="1 2 2"></a-light>

      <!-- èƒŒæ™¯ -->
      <a-sky src="mori.jpg" rotation="0 -130 0"></a-sky>

<!-- ğŸ•·ï¸ ã‚¯ãƒ¢ãƒ¢ãƒ‡ãƒ« -->
<a-entity 
  id="spider"
  gltf-model="spider.glb"
  position="0 -1.5 -3"
  rotation="0 180 0"
  scale="0.4 0.4 0.4">
</a-entity>


      <!-- åŠ¹æœéŸ³ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ -->
      <a-entity id="sound-player"></a-entity>
    </a-scene>

    <script>
      const soundFiles = [
        "åŠ¹æœéŸ³/hell_gear.mp3",
        "åŠ¹æœéŸ³/çªé¢¨ãŒå¹ã.mp3",
        "åŠ¹æœéŸ³/é¢¨ãŒå¹ã1.mp3",
        "åŠ¹æœéŸ³/é¢¨ãŒå¹ã2.mp3",
        "åŠ¹æœéŸ³/é¢¨ãŒå¹ã3.mp3",
        "åŠ¹æœéŸ³/é¢¨ãŒå¹ã4.mp3"
      ];

      const soundEntity = document.querySelector('#sound-player');

      // ãƒ©ãƒ³ãƒ€ãƒ ãªéŸ³ã‚’å†ç”Ÿã™ã‚‹é–¢æ•°
      function playRandomSound() {
        const randomSound = soundFiles[Math.floor(Math.random() * soundFiles.length)];
        soundEntity.setAttribute('sound', `src: url(${randomSound}); autoplay: true; volume: 1.0; loop: false;`);

        // soundãŒèª­ã¿è¾¼ã¾ã‚ŒãŸã‚‰å†ç”Ÿé–‹å§‹
        soundEntity.addEventListener('sound-loaded', () => {
          soundEntity.components.sound.playSound();
        }, { once: true }); // é‡è¤‡ã‚¤ãƒ™ãƒ³ãƒˆé˜²æ­¢
      }

      // ä¸€å®šé–“éš”ã§ãƒ©ãƒ³ãƒ€ãƒ å†ç”Ÿ
      function startRandomLoop() {
        playRandomSound();

        setInterval(() => {
          playRandomSound();
        }, Math.random() * 7000 + 8000); // 8ã€œ15ç§’é–“éš”
      }

      // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«é–‹å§‹
      window.addEventListener('load', startRandomLoop);
    </script>
  </body>
</html>
