<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Kaijyu + Single Spider (No Animation)</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- ç…§æ˜ -->
      <a-light type="ambient" color="#333"></a-light>
      <a-light type="directional" color="#999" position="2 4 3"></a-light>

      <!-- èƒŒæ™¯ -->
      <a-sky src="mori.jpg" rotation="0 -130 0"></a-sky>

      <!-- åŠ¹æœéŸ³ -->
      <a-entity id="sound-player"></a-entity>

      <!-- ã‚«ãƒ¡ãƒ© -->
      <a-entity id="cameraRig" position="0 -1 5">
        <a-camera look-controls></a-camera>
      </a-entity>

      <!-- ãƒ¢ãƒ‡ãƒ« -->
      <a-assets>
        <a-asset-item id="kaijyu-asset" src="kaijyu.glb"></a-asset-item>
        <a-asset-item id="spider-asset" src="spider.glb"></a-asset-item>
      </a-assets>

      <a-entity
        id="kaijyu"
        gltf-model="#kaijyu-asset"
        position="0 -2.5 -10"
        rotation="0 0 0"
        scale="0.5 0.5 0.5"
        animation-mixer
        animation__move="property: position; to: 0 -2.5 5; dur: 25000; easing: linear; loop: false;"
      ></a-entity>

      <!-- ğŸ•·ï¸ ã‚¯ãƒ¢ -->
      <a-entity
        id="spider"
        gltf-model="#spider-asset"
        position="1 -3 14"
        scale="1.5 1.5 1.5"
        rotation="0 180 0"
      ></a-entity>
    </a-scene>

    <script>
      // ğŸ¦– ãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿å¾Œã«å°‘ã—æš—ã
      const kaijyu = document.querySelector('#kaijyu');
      kaijyu.addEventListener('model-loaded', () => {
        kaijyu.object3D.traverse(node => {
          if (node.isMesh && node.material) node.material.color.multiplyScalar(0.6);
        });
        kaijyu.setAttribute('animation-mixer', 'clip: Walk; loop: repeat;');
      });
<script>
  const soundFiles = [
    "åŠ¹æœéŸ³/hell_gear.mp3",
    "åŠ¹æœéŸ³/susume.mp3",
    "åŠ¹æœéŸ³/çªé¢¨ãŒå¹ã.mp3",
    "åŠ¹æœéŸ³/é¢¨ãŒå¹ã1.mp3",
    "åŠ¹æœéŸ³/é¢¨ãŒå¹ã2.mp3"
  ];

  const soundEntity = document.querySelector('#sound-player');
  let currentIndex = 0;

  function playNextSound() {
    const file = soundFiles[currentIndex];
    soundEntity.setAttribute('sound', {
      src: `url(${file})`,
      autoplay: true,
      volume: 1.0,
      loop: false
    });

    console.log("ğŸµ å†ç”Ÿä¸­:", file);

    // æ¬¡ã®éŸ³ã¸ï¼ˆæœ€å¾Œã¾ã§è¡Œã£ãŸã‚‰æœ€åˆã«æˆ»ã‚‹ï¼‰
    currentIndex = (currentIndex + 1) % soundFiles.length;
  }

  function startSequentialLoop() {
    playNextSound();
    setInterval(() => {
      playNextSound();
    }, 10000); // æ¬¡ã®éŸ³ã‚’10ç§’é–“éš”ã§å†ç”Ÿï¼ˆéŸ³ã®é•·ã•ã«åˆã‚ã›ã¦èª¿æ•´ï¼‰
  }

  // åˆå›ã‚¯ãƒªãƒƒã‚¯ã§éŸ³å†ç”Ÿé–‹å§‹
  window.addEventListener('click', () => {
    startSequentialLoop();
    console.log("ğŸ§ åŠ¹æœéŸ³ã®é †ç•ªãƒ«ãƒ¼ãƒ—é–‹å§‹");
  }, { once: true });
</script>

  </body>
</html>
